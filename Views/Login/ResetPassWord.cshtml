@using BPMPlus.Controllers
@using BPMPlus.ViewModels.Login
@model ChangePasswordVM
@section Style {
    <style>
        .pdReset {
            font-size: 25px;
        }
    </style>
}
<title>BPMPlus</title>

<form asp-action="ResetPassWord" method="post">
    <div id="app">
        <div class="login-page bg-light">
            <div class="login-box">
                <div class="login-logo">
                    <img src="" alt="" class="mb-3" style="width:20rem;">
                </div>
                <!-- /.login-logo -->
                <div>
                    <p class="pdReset login-box-msg text-bold">重新設定密碼</p>
                    <div class="input-group mb-3">
                        @* @Html.PasswordFor(m => m.OldPassword, new { @class = "form-control OldPaswword", placeholder = "請輸入舊密碼" }) *@
                        <input asp-for="OldPassword" class="form-control OldPaswword" placeholder="請輸入舊密碼" />
                        <p class="text1"></p>
                        
                        <span asp-validation-for="OldPassword" class="text-danger"></span>
                        <div class="input-group-append">
                            <div class="input-group">
                            </div>
                        </div>
                    </div>

                    <div class="input-group mb-3">
                        @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control NewPassword", placeholder = "請輸入新密碼" })
                        
                        <div class="input-group-append">
                            <div class="input-group">
                            </div>
                        </div>
                    </div>

                    <div class="input-group mb-3">
                        @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control ConfirmPassword", placeholder = "再次輸入新密碼" })
                        
                        <div class="input-group-append">
                            <div class="input-group">
                            </div>
                        </div>
                    </div>
                    <!--顯示錯誤訊息 -->
                    <div style="color:red;">
                        @ViewBag.errMsg
                    </div>
                    <!-- /錯誤訊息 -->
                    <!-- 修改成功 -->
                    <div style="color:blue;">
                        <p>@TempData["SuccessMessage"]</p>
                    </div>
                    <!-- /修改成功 -->

                    <div class="row">
                        <!-- /.col -->
                        <div class="col-4"></div>
                        <div class="col-4">
                            <button id="btnSubmit" type="submit" class="btn btn-primary btn-block">送出修改</button>
                        </div>
                        <!-- /.col -->
                    </div>
                </div>

            </div>
        </div>

    </div>

</form>


@section Scripts
{
    <script>
        // $(document).ready(function () {
        //     $(".OldPaswword").blur(function () {
        //         var oldPW = $(".OldPaswword").val();
        //         $.ajax({
        //             url: '@Url.Action("ResetPassWord","Login")',
        //             data: { OldPassword: oldPW },
        //             success: function(e){
        //                 if (e.)
        //                 {
                            
        //                 }
        //             }


        //         })
        //     })
        // })

    </script>
}